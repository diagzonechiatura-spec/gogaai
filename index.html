<!doctype html>
<html lang="ka">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>GogaAI Рђћ рЃЏрЃћрЃЦрЃљрЃюрЃўрЃЎрЃЮрЃАрЃўрЃА рЃљрЃАрЃўрЃАрЃбрЃћрЃюрЃбрЃў (Static MVP)</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <meta name="description" content="GogaAI Рђћ рЃАрЃгрЃарЃљрЃцрЃў рЃЊрЃўрЃљрЃњрЃюрЃЮрЃАрЃбрЃўрЃЎрЃљ рЃЦрЃљрЃарЃЌрЃБрЃџрЃљрЃЊ. ECU Рђб ESL Рђб EEPROM Рђб CAN.">
</head>
<body class="bg-gradient-to-br from-neutral-50 to-neutral-100 min-h-screen">
  <header class="sticky top-0 z-20 bg-white/80 backdrop-blur border-b">
    <div class="max-w-5xl mx-auto p-3 flex items-center gap-3">
      <div class="p-2 rounded-2xl bg-black text-white text-sm font-semibold">G</div>
      <div class="leading-tight">
        <div class="font-bold text-lg">GogaAI</div>
        <div class="text-xs text-neutral-500">рЃЏрЃћрЃЦрЃљрЃюрЃўрЃЎрЃЮрЃАрЃўрЃА рЃљрЃАрЃўрЃАрЃбрЃћрЃюрЃбрЃў Рђб ECU Рђб ESL Рђб EEPROM Рђб CAN</div>
      </div>
      <div class="ml-auto">
        <span class="px-2 py-1 rounded-xl text-xs bg-neutral-100 border">Static MVP</span>
      </div>
    </div>
  </header>

  <main class="max-w-5xl mx-auto p-4 grid md:grid-cols-[260px_1fr] gap-4">
    <!-- Sidebar -->
    <aside class="space-y-4">
      <section class="bg-white border rounded-2xl p-3">
        <h2 class="font-semibold mb-2 text-sm">рЃАрЃљрЃЏрЃБрЃерЃљрЃЮ рЃърЃљрЃюрЃћрЃџрЃў</h2>
        <div class="space-y-1">
          <button id="btn-quick" class="w-full text-left px-3 py-2 rounded-xl hover:bg-neutral-50 border">рЃАрЃгрЃарЃљрЃцрЃў рЃЊрЃўрЃљрЃњрЃюрЃЮрЃАрЃбрЃўрЃЎрЃљ</button>
          <button id="btn-eeprom" class="w-full text-left px-3 py-2 rounded-xl hover:bg-neutral-50 border">EEPROM helper</button>
          <button id="btn-clear" class="w-full text-left px-3 py-2 rounded-xl hover:bg-neutral-50 border">рЃЕрЃљрЃбрЃўрЃА рЃњрЃљрЃАрЃБрЃцрЃЌрЃљрЃЋрЃћрЃЉрЃљ</button>
        </div>
      </section>
      <section class="bg-white border rounded-2xl p-3">
        <h2 class="font-semibold mb-2 text-sm">DTC рЃЦрЃЋрЃћ-рЃњрЃўрЃЊрЃў</h2>
        <div class="flex gap-2">
          <input id="dtc-input" class="flex-1 px-3 py-2 border rounded-xl" placeholder="рЃЏрЃљрЃњ: P0299">
          <button id="dtc-add" class="px-3 py-2 border rounded-xl">рЃЊрЃљрЃЏрЃљрЃбрЃћрЃЉрЃљ</button>
        </div>
        <div id="dtc-list" class="mt-2 space-y-2 text-xs"></div>
      </section>
      <section class="bg-white border rounded-2xl p-3">
        <h2 class="font-semibold mb-2 text-sm">рЃфрЃЮрЃЊрЃюрЃўрЃА рЃўрЃЏрЃърЃЮрЃарЃбрЃў (TXT/MD)</h2>
        <input id="file-input" type="file" multiple class="w-full text-sm">
        <p class="text-xs text-neutral-500 mt-2">рЃцрЃљрЃўрЃџрЃћрЃЉрЃў рЃўрЃЎрЃўрЃЌрЃ«рЃћрЃЉрЃљ рЃЏрЃ«рЃЮрЃџрЃЮрЃЊ рЃЉрЃарЃљрЃБрЃќрЃћрЃарЃерЃў (рЃАрЃћрЃарЃЋрЃћрЃарЃќрЃћ рЃљрЃа рЃўрЃњрЃќрЃљрЃЋрЃюрЃћрЃЉрЃљ).</p>
      </section>
    </aside>

    <!-- Chat -->
    <section class="bg-white border rounded-2xl flex flex-col h-[72vh]">
      <div class="p-3 border-b text-sm font-semibold">рЃЕрЃљрЃбрЃў Рђб GogaAI</div>
      <div id="chat" class="flex-1 overflow-auto p-3 space-y-2">
        <div class="max-w-[80%] bg-white border rounded-2xl px-3 py-2 text-sm shadow-sm">
          <div class="text-[10px] opacity-60 mb-1">GogaAI Рђб рЃљрЃ«рЃџрЃљ</div>
          рЃњрЃљрЃЏрЃљрЃарЃ»рЃЮрЃЉрЃљ рЃФрЃЏрЃЮрЃЉрЃўрЃџрЃЮ! рЃЏрЃћ рЃЋрЃљрЃа GogaAI Рђћ рЃЏрЃћрЃЦрЃљрЃюрЃўрЃЎрЃЮрЃАрЃўрЃА рЃљрЃАрЃўрЃАрЃбрЃћрЃюрЃбрЃў. рЃарЃљ рЃерЃћрЃњрЃљрЃгрЃБрЃ«рЃЊрЃљ? ­Ъўі
        </div>
      </div>
      <div class="p-3 border-t flex gap-2">
        <textarea id="input" class="min-h-[44px] max-h-40 flex-1 border rounded-2xl px-3 py-2" placeholder="рЃЏрЃўрЃДрЃћрЃЋрЃў рЃАрЃўрЃЏрЃърЃбрЃЮрЃЏрЃА рЃљрЃю DTC-рЃАРђд"></textarea>
        <button id="send" class="px-4 py-2 rounded-2xl bg-black text-white">рЃњрЃљрЃњрЃќрЃљрЃЋрЃюрЃљ</button>
      </div>
    </section>
  </main>

  <footer class="max-w-5xl mx-auto p-6 text-xs text-neutral-500 flex items-center justify-between">
    <div>РђърЃФрЃЏрЃЮрЃЉрЃўрЃџрЃЮРђю рЃарЃћрЃЪрЃўрЃЏрЃў рЃЕрЃљрЃарЃЌрЃБрЃџрЃўрЃљ Рђб Beta</div>
    <div>┬Е GogaAI Tools</div>
  </footer>

  <script>
    const DTC_HINTS = {
      "P0299": "Turbo/Supercharger underboost Рђћ рЃЋрЃљрЃЎрЃБрЃБрЃЏрЃў, wastegate, рЃњрЃљрЃЪрЃЮрЃюрЃЋрЃљ, MAP/рЃ░рЃЮрЃќрЃў.",
      "P0606": "ECU Processor fault Рђћ рЃЎрЃЋрЃћрЃЉрЃљ/рЃЏрЃўрЃгрЃљ, рЃЋрЃўрЃЉрЃарЃљрЃфрЃўрЃљ, firmware corruption, EEPROM/Flash.",
      "P0335": "Crankshaft position sensor Рђћ рЃАрЃўрЃњрЃюрЃљрЃџрЃў, wiring shield, reluctor gap.",
      "U0100": "Lost comm with ECM/PCM Рђћ CAN-H/CAN-L, 120╬Е рЃбрЃћрЃарЃЏрЃўрЃюрЃљрЃбрЃЮрЃарЃў, рЃЎрЃЋрЃћрЃЉрЃљ ECM."
    };

    const DEFAULT_KNOWLEDGE = [
      {tag: "Mercedes W211", title: "Boost pressure too low Рђћ рЃАрЃгрЃарЃљрЃцрЃў рЃњрЃќрЃљрЃЏрЃЎрЃЋрЃџрЃћрЃЋрЃў", body: "рЃЋрЃљрЃЎрЃБрЃБрЃЏ-рЃ«рЃљрЃќрЃћрЃЉрЃў, N75/N18 PWM, actuator-рЃўрЃА рЃЌрЃљрЃЋрЃўрЃАрЃБрЃцрЃљрЃџрЃў рЃАрЃЋрЃџрЃљ. LiveData: idle ~90-110 kPa; 2500 rpm ~120-140 kPa. рЃЌрЃБ MAP < expected: 1) рЃ░рЃћрЃарЃЏрЃћрЃбрЃБрЃџрЃЮрЃЉрЃљ 2) рЃЋрЃљрЃЎрЃБрЃБрЃЏрЃўрЃА рЃЊрЃљрЃЉрЃљрЃџрЃў рЃгрЃюрЃћрЃЋрЃљ 3) actuator рЃњрЃљрЃГрЃћрЃЊрЃўрЃџрЃў 4) рЃАрЃћрЃюрЃАрЃЮрЃарЃўрЃА рЃЎрЃљрЃџрЃўрЃЉрЃарЃў."},
      {tag: "Nissan Terrano", title: "рЃЊрЃўрЃќрЃћрЃџрЃўрЃА рЃАрЃљрЃбрЃБрЃЏрЃЉрЃў рЃ░рЃљрЃћрЃарЃА рЃўрЃГрЃћрЃарЃА Рђћ рЃЉрЃБрЃерЃбрЃБрЃЎрЃћрЃЉрЃў", body: "рЃцрЃўрЃџрЃбрЃарЃўрЃА рЃЎрЃЮрЃарЃърЃБрЃАрЃўрЃА рЃЮ-рЃарЃўрЃюрЃњрЃў, рЃАрЃгрЃарЃљрЃцрЃў рЃЎрЃљрЃЋрЃерЃўрЃарЃћрЃЉрЃўрЃА рЃЎрЃџрЃўрЃърЃћрЃЉрЃў, рЃБрЃЎрЃБрЃЏрЃЊрЃўрЃюрЃљрЃарЃћ рЃАрЃљрЃарЃЦрЃЋрЃћрЃџрЃў, рЃ«рЃћрЃџрЃўрЃА рЃбрЃБрЃЏрЃЉрЃЮ, fuel heater base рЃЉрЃќрЃљрЃарЃћрЃЉрЃў."},
      {tag: "Subaru Legacy 2011", title: "рЃАрЃљрЃЉрЃљрЃарЃњрЃБрЃџрЃўрЃА рЃдрЃўрЃџрЃљрЃЎрЃў Рђћ рЃЎрЃЋрЃћрЃЉрЃўрЃА рЃбрЃарЃљрЃАрЃљ", body: "рЃдрЃўрЃџрЃљрЃЎрЃўрЃА рЃЎрЃЮрЃюрЃбрЃљрЃЦрЃбрЃў, рЃЎрЃЮрЃюрЃћрЃЦрЃбрЃЮрЃарЃўрЃА рЃЎрЃЮрЃарЃЮрЃќрЃўрЃљ, BCM-рЃАрЃЌрЃљрЃю LIN/CAN рЃгрЃДрЃЋрЃћрЃбрЃљ, рЃерЃћрЃАрЃљрЃЉрЃљрЃЏрЃўрЃАрЃў рЃцрЃўрЃБрЃќрЃў."}
    ];

    const chat = document.getElementById('chat');
    const input = document.getElementById('input');
    const sendBtn = document.getElementById('send');
    const dtcInput = document.getElementById('dtc-input');
    const dtcAdd = document.getElementById('dtc-add');
    const dtcList = document.getElementById('dtc-list');
    const quickBtn = document.getElementById('btn-quick');
    const eepromBtn = document.getElementById('btn-eeprom');
    const clearBtn = document.getElementById('btn-clear');
    const fileInput = document.getElementById('file-input');

    function now() {
      const d = new Date();
      return d.toLocaleTimeString([], {hour: '2-digit', minute: '2-digit'});
    }

    function addMessage(role, text) {
      const wrap = document.createElement('div');
      wrap.className = 'flex ' + (role==='assistant' ? 'justify-start' : 'justify-end');
      const bubble = document.createElement('div');
      bubble.className = 'max-w-[80%] rounded-2xl px-3 py-2 text-sm leading-relaxed whitespace-pre-wrap shadow-sm ' + (role==='assistant' ? 'bg-white border' : 'bg-black text-white');
      bubble.innerHTML = '<div class="text-[10px] opacity-60 mb-1">' + (role==='assistant' ? 'GogaAI' : 'рЃерЃћрЃю') + ' Рђб ' + now() + '</div>' + text;
      wrap.appendChild(bubble);
      chat.appendChild(wrap);
      chat.scrollTop = chat.scrollHeight;
    }

    function mockAnswer(q) {
      const query = q.toLowerCase();
      // DTC
      for (const code in DTC_HINTS) {
        if (query.includes(code.toLowerCase())) {
          return '­ЪњА DTC ' + code + ': ' + DTC_HINTS[code] + '\n\nРъА№ИЈ рЃюрЃљрЃЉрЃўрЃ»рЃћрЃЉрЃў: 1) рЃЎрЃЋрЃћрЃЉрЃљ/рЃЏрЃўрЃгрЃљ; 2) рЃЮрЃАрЃфрЃўрЃџрЃЮрЃАрЃЎрЃЮрЃърЃўрЃЌ рЃАрЃўрЃњрЃюрЃљрЃџрЃў; 3) рЃЎрЃЮрЃюрЃћрЃЦрЃбрЃЮрЃарЃўрЃА рЃЎрЃЮрЃарЃЮрЃќрЃўрЃљ; 4) рЃАрЃљрЃГрЃўрЃарЃЮрЃћрЃЉрЃўрЃА рЃерЃћрЃЏрЃЌрЃ«рЃЋрЃћрЃЋрЃљрЃерЃў рЃърЃарЃЮрЃњрЃарЃљрЃЏрЃБрЃџрЃў рЃарЃћрЃАрЃбрЃљрЃарЃбрЃў.';
        }
      }
      // KB tag hit
      const hit = DEFAULT_KNOWLEDGE.find(k => query.includes((k.tag||'').toLowerCase()));
      if (hit) return '­ЪЊў ' + hit.title + '\n\n' + hit.body;

      return 'рЃЊрЃљрЃЋрЃўрЃгрЃДрЃЮрЃЌ рЃАрЃгрЃарЃљрЃцрЃў рЃЊрЃўрЃљрЃњрЃюрЃЮрЃАрЃбрЃўрЃЎрЃБрЃарЃў рЃ«рЃўрЃЌ:\n1) рЃАрЃўрЃЏрЃърЃбрЃЮрЃЏрЃў рЃарЃЮрЃЊрЃўрЃА рЃЕрЃюрЃЊрЃћрЃЉрЃљ (рЃњрЃљрЃЕрЃћрЃарЃћрЃЉрЃљрЃќрЃћ/рЃЏрЃЮрЃФрЃарЃљрЃЮрЃЉрЃљрЃќрЃћ/рЃфрЃўрЃЋрЃќрЃћ/рЃфрЃ«рЃћрЃџрЃќрЃћ)\n2) MIL рЃЊрЃљ рЃЎрЃЮрЃЊрЃћрЃЉрЃў Рђћ Freeze Frame рЃюрЃљрЃ«рЃћ\n3) рЃЎрЃЋрЃћрЃЉрЃљ/рЃЏрЃўрЃгрЃљ, рЃцрЃўрЃБрЃќрЃћрЃЉрЃў, рЃЏрЃўрЃгрЃўрЃА рЃгрЃћрЃарЃбрЃўрЃџрЃћрЃЉрЃў\n4) LiveData Рђћ рЃарЃљ рЃўрЃфрЃЋрЃџрЃћрЃЉрЃљ рЃЏрЃЮрЃЋрЃџрЃћрЃюрЃљрЃЏрЃЊрЃћ\n5) рЃ░рЃћрЃарЃЏрЃћрЃбрЃБрЃџрЃЮрЃЉрЃљ Рђћ рЃЋрЃљрЃЎрЃБрЃБрЃЏрЃў, рЃ░рЃљрЃћрЃарЃў/рЃњрЃљрЃЏрЃЮрЃюрЃљрЃЉрЃЮрЃџрЃЦрЃЋрЃў\n6) рЃљрЃЦрЃбрЃўрЃЋрЃљрЃфрЃўрЃћрЃЉрЃў Рђћ рЃАрЃЮрЃџрЃћрЃюрЃЮрЃўрЃЊрЃў/рЃљрЃЦрЃбрЃБрЃљрЃбрЃЮрЃарЃў';
    }

    sendBtn.addEventListener('click', () => {
      const text = input.value.trim();
      if (!text) return;
      addMessage('user', text);
      const answer = mockAnswer(text);
      addMessage('assistant', answer);
      input.value='';
    });

    input.addEventListener('keydown', (e) => {
      if (e.key === 'Enter' && !e.shiftKey) {
        e.preventDefault();
        sendBtn.click();
      }
    });

    quickBtn.addEventListener('click', () => {
      addMessage('assistant', 'рЃАрЃгрЃарЃљрЃцрЃў рЃЕрЃћрЃЎрЃџрЃўрЃАрЃбрЃў: 1) рЃАрЃўрЃЏрЃърЃбрЃЮрЃЏрЃў 2) рЃЎрЃЮрЃЊрЃћрЃЉрЃў 3) рЃЎрЃЋрЃћрЃЉрЃљ/рЃЏрЃўрЃгрЃљ 4) LiveData 5) рЃ░рЃћрЃарЃЏрЃћрЃбрЃБрЃџрЃЮрЃЉрЃљ 6) рЃљрЃЦрЃбрЃўрЃЋрЃљрЃфрЃўрЃћрЃЉрЃў');
    });

    eepromBtn.addEventListener('click', () => {
      addMessage('assistant', 'EEPROM tip: BMW E90 EWS3 <-> DME sync Рђћ рЃгрЃљрЃўрЃЎрЃўрЃЌрЃ«рЃћ рЃЮрЃарЃўрЃЋрЃћ dump, рЃерЃћрЃљрЃЊрЃљрЃарЃћ ISN/KEY рЃЉрЃљрЃўрЃбрЃћрЃЉрЃў; mismatch Яд╣Яд▓ЯДЄ virgin + рЃАрЃгрЃЮрЃарЃў ISN.');
    });

    clearBtn.addEventListener('click', () => {
      chat.innerHTML = '';
      addMessage('assistant', 'рЃЕрЃљрЃбрЃў рЃњрЃљрЃАрЃБрЃцрЃЌрЃљрЃЋрЃЊрЃљ. рЃарЃљрЃА рЃњрЃљрЃЋрЃљрЃЎрЃћрЃЌрЃЮрЃЌ, рЃФрЃЏрЃЮрЃЉрЃўрЃџрЃЮ?');
    });

    dtcAdd.addEventListener('click', () => {
      const c = dtcInput.value.trim().toUpperCase();
      if (!c) return;
      const hint = DTC_HINTS[c] || 'рЃћрЃА рЃЎрЃЮрЃЊрЃў рЃЉрЃљрЃќрЃљрЃерЃў рЃљрЃа рЃљрЃарЃўрЃА Рђћ рЃЊрЃљрЃљрЃЏрЃљрЃбрЃћ рЃерЃћрЃюрЃА рЃфрЃЮрЃЊрЃюрЃљрЃерЃў.';
      const item = document.createElement('div');
      item.className = 'p-2 bg-neutral-50 border rounded-xl';
      item.innerText = c + ': ' + hint;
      dtcList.prepend(item);
      dtcInput.value='';
    });

    fileInput.addEventListener('change', async (e) => {
      const files = Array.from(e.target.files || []);
      for (const f of files) {
        const text = await f.text();
        addMessage('assistant', '­ЪЊё " ' + f.name + ' " рЃЊрЃљрЃћрЃЏрЃљрЃбрЃљ рЃфрЃЮрЃЊрЃюрЃўрЃА рЃЉрЃљрЃќрЃљрЃА (рЃџрЃЮрЃЎрЃљрЃџрЃБрЃарЃљрЃЊ). рЃерЃўрЃюрЃљрЃљрЃарЃАрЃў: \n' + text.slice(0, 400) + (text.length>400?'Рђд':''));
      }
    });
  </script>
</body>
</html>
